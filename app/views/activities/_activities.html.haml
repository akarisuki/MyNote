- visitor = activity.visitor
- visited = activity.visited
.form-inline
  %span      
    - case activity.action
    - when 'follow'
      = link_to user_path(visited) do
        = image_tag "#{visited.avatar}", class: "avatar"
        %strong
          = visited.nickname
      = "さんをフォローしました"
    - when 'like'
      - if activity.tweet.user_id == visitor.id
        = link_to "あなたの投稿", activity.tweet, style: "font-weight: bold;"
      - else
        %span
          = link_to tweet_path(activity.tweet) do
            = image_tag "#{visited.avatar}", class: "avatar"
            %strong
              = activity.tweet.user.nickname + 'さんの投稿'
      = "にいいねしました"
    - when 'comment'
      - if activity.tweet.user_id == visitor.id
        = link_to "あなたの投稿", activity.tweet, style: "font-weight: bold;"
      - else
        %span
          = link_to tweet_path(activity.tweet) do
            = image_tag "#{activity.tweet.user.avatar}", class: "avatar"
            %strong
              = activity.tweet.user.nickname + 'さんの投稿'
      = "にコメントしました"
      %p.text-muted.mb-0
        = Comment.find_by(id: activity.comment_id)&.content
    - when 'message'
      = link_to user_path(visited) do
        = image_tag "#{visited.avatar}", class: "avatar"
        %strong
          = visited.nickname
      = link_to room_path(activity.room.id) do
        = "さんにメッセージを送信しました"
        %p.text-muted.mb-0
          = Message.find_by(id: activity.message_id)&.message

.small.text-muted.text-right
  = time_ago_in_words(activity.created_at).upcase
%hr